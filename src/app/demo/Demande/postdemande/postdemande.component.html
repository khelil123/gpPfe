<mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
         Ajouter une demande
        </mat-panel-title>
     
      </mat-expansion-panel-header>
      <form [formGroup]="demandeservice.form" (submit)="onSubmit()" novalidate>
        <input type="hidden" formControlName="id">
        <div class="row">
          <div class="col-sm-6">
        <mat-form-field>
        <mat-label>Objet Demande</mat-label>
        <input matInput  formControlName="objet">
      </mat-form-field>
    </div>
    <div class="col-sm-6">

      <mat-form-field>
        <mat-label>Date Debut</mat-label>
        <input  matInput [matDatepicker]="picker"  required formControlName="dateCreation" >
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>
  </div>
     <div class="row">
       <div class="col-sm-6">
      <mat-label>Type Demande</mat-label>
    </div>
    <div class="col-sm-6">
      <mat-select formControlName="id_TypeDemande" style="background-color: #c8c8c8;">
        <mat-option *ngFor="let typed of typedservice.listTyped" [value]="typed.id" >
          {{typed.label}}
        </mat-option>
      </mat-select>
    </div>
    </div>
      <button  class="btn btn-success" type="submit">Sauvegarder</button>
    </form>

    </mat-expansion-panel>
</mat-accordion>


<p-table [value]="demandeservice.listDemande" [paginator]="true" [rows]="5" #dt filterBy="objet" >
    
  <ng-template pTemplate="header" style="background-color: #868e96;">
    
     <tr>
       
        <th><div class="row" style="padding: 0.571em 0.857em;">Objet</div>
          <!-- <input pInputText type="text" (input)="dt.filter($event.target.value, 'label','contains' )"> -->
         
          </th>
        <th>Date</th>
        <th>Etat</th>
        <th>Type</th>
        <th>Group User</th>
        <th>Actions</th>
          </tr>
    </ng-template>
<ng-template pTemplate="body" let-demande>
    <tr>
      <td>{{demande.objet}}</td>
     <td>{{demande.dateCreation}}</td> 
     <td>{{demande.etat}}</td> 
     <td>{{demande.typeDemande}}</td> 
     <td>{{demande.fK_GroupeUser}}</td> 
      <td  style="text-align: center">
        <button  (click)="valider(demande,demande.typeDemande)" class="btn btn mr-3" >
           <span style="color: #41c105;"><i class="fas fa-thumbs-up " style="font-size:28px;"></i></span> 
            </button>
      <button (click)="onDelete(demande.id)" class="btn btn mr-3 ">
        <span style="color: #911E15;"><i class="far fa-trash-alt" style="font-size:28px;"></i></span>

    </button>
</td>
     
   </tr>
   </ng-template>
</p-table>     